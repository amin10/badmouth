<html>
<head>
	<title>Badmouthing</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<link rel="icon" type="image/png" href="assets/images/complain.jpg">
	<link rel="apple-touch-icon" href="assets/images/complain.jpg">

</head>
<body>

	<div class="row circle-images">
		<div class="center-box">
			<div class="middle-box">
				<form action="#">
					<h1 class="title">What's fucked up?</h1>
					<input type="text" placeholder="What's fucked up?" class="tag" id="tag">
				</form>
			</div><!--/.middle-box -->
		</div><!--/.center-box -->

		<a href="#" id="first" class="target deg0" data-angle="0"><img id="angelina" src="assets/images/angelina.jpg" class="img-circle"></a>
		<a href="#" id="second" class="target deg45" data-angle="45"><img id="stone" src="assets/images/stone.jpg" class="img-circle"></a>
		<a href="#" id="third" class="target deg90" data-angle="90"><img id="padukone" src="assets/images/padukone.jpg" class="img-circle"></a>
		<a href="#" id="fourth" class="target deg135" data-angle="135"><img id="lawrence" src="assets/images/lawrence.jpg" class="img-circle"></a>
		<a href="#" id="fifth" class="target deg180" data-angle="180"><img id="portman" src="assets/images/portman.jpg" class="img-circle"></a>
		<a href="#" id="sixth" class="target deg225" data-angle="225"><img id="smulders" src="assets/images/smulders.jpg" class="img-circle"></a>
		<a href="#" id="seventh" class="target deg270" data-angle="270"><img id="knightley" src="assets/images/knightley.jpg" class="img-circle"></a>
		<a href="#" id="eighth" class="target deg315" data-angle="315"><img id="watson" src="assets/images/watson.jpg" class="img-circle"></a>
	</div><!--/.circle-images -->

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		
		<script type="text/javascript">
		var top_targets = {
			targets: ['angelina', 'stone', 'padukone', 'lawrence', 'portman', 'smulders', 'knightley', 'watson'],

			get_target_angle: function(target_name) {
				return $('#' + target_name)[0].parentNode.dataset.angle;
			},

			rotate_target_images: function(target_on_top) {
				while(top_targets.get_target_angle(target_on_top) != 270) { // 270 is the angle at the top.
				
					for(var i = 0; i < 2; i++) {
						moving_target = top_targets.targets[i];
						current_angle = top_targets.get_target_angle(moving_target);

						selected_target = $('.deg' + current_angle)[0].id;
						
						$('#' + selected_target).removeClass("deg" + current_angle);
						$('#' + selected_target).attr("data-angle", ((parseInt(current_angle) + 45) % 360));
						$('#' + selected_target).addClass("deg" + ((parseInt(current_angle) + 45) % 360));
					}
				}
			}
		};

		$('.target').click(function(e) {
			var clicked_image = e.target.id;
			for(var i = 0; i < top_targets.targets.length; i++) {
				if(top_targets.targets[i] != clicked_image) {
					change_to_grayscale = top_targets.targets[i];
					if($('#' + change_to_grayscale).hasClass('grayscale')) {
						$('#' + change_to_grayscale).removeClass('grayscale');
					}
					else {
						$('#' + change_to_grayscale).addClass('grayscale');
					}
				}
			}
			top_targets.rotate_target_images(clicked_image);
		});
	</script>
</body>
</html>